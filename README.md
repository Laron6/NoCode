# Expense Tracker

Приложение для учёта доходов и расходов с сохранением в localStorage.

Автор: Bogdan Matrosov  
Год: 2026

## Запуск
- Дважды кликнуть `index.html`  
- Тесты: `node --test expense.test.js`

## Сценарии тестирования

### Тест 1. Добавление дохода и расхода
**Цель тестирования**: Проверить, что пользователь может успешно добавить доход и расход, данные отображаются корректно и сохраняются.  
**Предпосылки**: Страница открыта, список транзакций пустой.  

**Шаги тестирования**:  
1. В поле «Сумма» ввести 5000  
2. В поле «Описание» ввести «Зарплата»  
3. Выбрать тип «Доход»  
4. Нажать кнопку «Добавить»  

**Ожидаемый результат**: В списке появляется запись «+5000.00 ₽ Зарплата» с зелёной полосой слева, статистика обновляется (Доходы: 5000.00, Баланс: 5000.00).  

**Фактический результат**: Запись появилась, цветовая индикация правильная, статистика обновилась корректно.  

5. Повторить шаги 1–4, но ввести сумму 1200, описание «Продукты», тип «Расход»  

**Ожидаемый результат**: Появляется запись «-1200.00 ₽ Продукты» с красной полосой, статистика: Доходы 5000, Расходы 1200, Баланс 3800.  

**Фактический результат**: Всё отобразилось верно, баланс рассчитан правильно.

### Тест 2. Удаление транзакции
**Цель тестирования**: Убедиться, что выбранная транзакция удаляется из списка и статистика обновляется.  
**Предпосылки**: В списке есть хотя бы 2 транзакции (доход и расход).  

**Шаги тестирования**:  
1. На любой записи нажать кнопку «Удалить»  
2. В диалоге подтверждения нажать «OK»  

**Ожидаемый результат**: Запись исчезает из списка, статистика пересчитывается (сумма удалённой транзакции вычитается из доходов/расходов и баланса).  

**Фактический результат**: Запись удалена, статистика обновилась корректно.

### Тест 3. Расчёт баланса, доходов и расходов
**Цель тестирования**: Проверить корректность подсчёта общей суммы доходов, расходов и баланса при разных комбинациях транзакций.  
**Предпосылки**: Страница открыта, список содержит несколько доходов и расходов.  

**Шаги тестирования**:  
1. Добавить доход 15000 «Зарплата»  
2. Добавить расход 7000 «Аренда»  
3. Добавить расход 2500 «Продукты»  
4. Добавить доход 3000 «Подработка»  

**Ожидаемый результат**: Статистика показывает:  
- Доходы: 18000.00 ₽  
- Расходы: 9500.00 ₽  
- Баланс: 8500.00 ₽  

**Фактический результат**: Все значения рассчитаны верно, с точностью до копеек.

### Тест 4. Сохранение данных после перезагрузки страницы
**Цель тестирования**: Убедиться, что все добавленные транзакции и статистика сохраняются в localStorage и восстанавливаются после перезагрузки.  
**Предпосылки**: Добавлено несколько транзакций.  

**Шаги тестирования**:  
1. Добавить 2–3 транзакции (доходы и расходы)  
2. Запомнить значения статистики  
3. Обновить страницу (F5 или Ctrl+R)  

**Ожидаемый результат**: Все записи остались в списке, статистика полностью совпадает с той, что была до перезагрузки.  

**Фактический результат**: Данные полностью сохранились и отобразились корректно.

### Тест 5. Полная очистка данных
**Цель тестирования**: Проверить, что кнопка «Очистить всё» удаляет все транзакции и обнуляет статистику.  
**Предпосылки**: В списке есть транзакции.  

**Шаги тестирования**:  
1. Нажать кнопку «Очистить всё»  
2. В диалоге подтверждения нажать «OK»  

**Ожидаемый результат**: Список транзакций становится пустым, статистика показывает 0 по всем пунктам. После перезагрузки страницы данные не восстанавливаются.  

**Фактический результат**: Всё очищено, статистика обнулилась, после перезагрузки список остался пустым.

### Тест 6. Обработка некорректного ввода при добавлении
**Цель тестирования**: Убедиться, что приложение не позволяет добавить некорректные данные и показывает ошибку.  
**Предпосылки**: Страница открыта.  

**Шаги тестирования**:  
1. Ввести в сумму отрицательное число (-500) → нажать «Добавить»  
2. Ввести сумму 0 → нажать «Добавить»  
3. Ввести сумму 100, но выбрать несуществующий тип (если бы был баг)  

**Ожидаемый результат**: Появляется alert с понятным сообщением об ошибке («Сумма должна быть положительным числом» и т.п.), запись не добавляется, список и статистика не меняются.  

**Фактический результат**: Приложение корректно блокирует некорректный ввод и показывает ошибку, ничего не добавляется.

**Комментарии**: Все сценарии пройдены успешно. Приложение стабильно, данные сохраняются корректно, ошибки обрабатываются.